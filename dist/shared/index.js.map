{"version":3,"file":"index.js","sources":["../../src/utils/path.ts","../../src/utils/sanitizeFileName.ts","../../src/utils/relativeId.ts","../../src/utils/mergeOptions.ts","../../node_modules/require-relative/index.js"],"sourcesContent":["const absolutePath = /^(?:\\/|(?:[A-Za-z]:)?[\\\\|/])/;\nconst relativePath = /^\\.?\\.\\//;\n\nexport function isAbsolute(path: string) {\n\treturn absolutePath.test(path);\n}\n\nexport function isRelative(path: string) {\n\treturn relativePath.test(path);\n}\n\nexport function normalize(path: string) {\n\tif (path.indexOf('\\\\') == -1) return path;\n\treturn path.replace(/\\\\/g, '/');\n}\n\nexport { basename, dirname, extname, relative, resolve } from 'path';\n","export function sanitizeFileName(name: string): string {\n\treturn name.replace(/[\\0?*]/g, '_');\n}\n","import { basename, extname, isAbsolute, relative } from './path';\nimport { sanitizeFileName } from './sanitizeFileName';\n\nexport function getAliasName(id: string) {\n\tconst base = basename(id);\n\treturn base.substr(0, base.length - extname(id).length);\n}\n\nexport default function relativeId(id: string) {\n\tif (typeof process === 'undefined' || !isAbsolute(id)) return id;\n\treturn relative(process.cwd(), id);\n}\n\nexport function isPlainPathFragment(name: string) {\n\t// not starting with \"/\", \"./\", \"../\"\n\treturn (\n\t\tname[0] !== '/' &&\n\t\t!(name[0] === '.' && (name[1] === '/' || name[1] === '.')) &&\n\t\tsanitizeFileName(name) === name\n\t);\n}\n","import {\n\tInputOptions,\n\tOutputOptions,\n\tWarningHandler,\n\tWarningHandlerWithDefault\n} from '../rollup/types';\n\nexport interface GenericConfigObject {\n\t[key: string]: unknown;\n}\n\nexport interface CommandConfigObject {\n\texternal: string[];\n\tglobals: { [id: string]: string } | undefined;\n\t[key: string]: unknown;\n}\n\nconst createGetOption = (config: GenericConfigObject, command: GenericConfigObject) => (\n\tname: string,\n\tdefaultValue?: unknown\n): any =>\n\tcommand[name] !== undefined\n\t\t? command[name]\n\t\t: config[name] !== undefined\n\t\t? config[name]\n\t\t: defaultValue;\n\nconst normalizeObjectOptionValue = (optionValue: any) => {\n\tif (!optionValue) {\n\t\treturn optionValue;\n\t}\n\tif (typeof optionValue !== 'object') {\n\t\treturn {};\n\t}\n\treturn optionValue;\n};\n\nconst getObjectOption = (\n\tconfig: GenericConfigObject,\n\tcommand: GenericConfigObject,\n\tname: string\n) => {\n\tconst commandOption = normalizeObjectOptionValue(command[name]);\n\tconst configOption = normalizeObjectOptionValue(config[name]);\n\tif (commandOption !== undefined) {\n\t\treturn commandOption && configOption ? { ...configOption, ...commandOption } : commandOption;\n\t}\n\treturn configOption;\n};\n\nconst defaultOnWarn: WarningHandler = warning => {\n\tif (typeof warning === 'string') {\n\t\tconsole.warn(warning);\n\t} else {\n\t\tconsole.warn(warning.message);\n\t}\n};\n\nconst getOnWarn = (\n\tconfig: GenericConfigObject,\n\tdefaultOnWarnHandler: WarningHandler = defaultOnWarn\n): WarningHandler =>\n\tconfig.onwarn\n\t\t? warning => (config.onwarn as WarningHandlerWithDefault)(warning, defaultOnWarnHandler)\n\t\t: defaultOnWarnHandler;\n\nconst getExternal = (config: GenericConfigObject, command: CommandConfigObject) => {\n\tconst configExternal = config.external;\n\treturn typeof configExternal === 'function'\n\t\t? (id: string, ...rest: string[]) =>\n\t\t\t\tconfigExternal(id, ...rest) || command.external.indexOf(id) !== -1\n\t\t: (typeof config.external === 'string'\n\t\t\t\t? [configExternal]\n\t\t\t\t: Array.isArray(configExternal)\n\t\t\t\t? configExternal\n\t\t\t\t: []\n\t\t  ).concat(command.external);\n};\n\nexport const commandAliases: { [key: string]: string } = {\n\tc: 'config',\n\td: 'dir',\n\te: 'external',\n\tf: 'format',\n\tg: 'globals',\n\th: 'help',\n\ti: 'input',\n\tm: 'sourcemap',\n\tn: 'name',\n\to: 'file',\n\tv: 'version',\n\tw: 'watch'\n};\n\nexport default function mergeOptions({\n\tconfig = {},\n\tcommand: rawCommandOptions = {},\n\tdefaultOnWarnHandler\n}: {\n\tcommand?: GenericConfigObject;\n\tconfig: GenericConfigObject;\n\tdefaultOnWarnHandler?: WarningHandler;\n}): {\n\tinputOptions: InputOptions;\n\toptionError: string | null;\n\toutputOptions: any;\n} {\n\tconst command = getCommandOptions(rawCommandOptions);\n\tconst inputOptions = getInputOptions(config, command, defaultOnWarnHandler as WarningHandler);\n\n\tif (command.output) {\n\t\tObject.assign(command, command.output);\n\t}\n\n\tconst output = config.output;\n\tconst normalizedOutputOptions = Array.isArray(output) ? output : output ? [output] : [];\n\tif (normalizedOutputOptions.length === 0) normalizedOutputOptions.push({});\n\tconst outputOptions = normalizedOutputOptions.map(singleOutputOptions =>\n\t\tgetOutputOptions(singleOutputOptions, command)\n\t);\n\n\tconst unknownOptionErrors: string[] = [];\n\tconst validInputOptions = Object.keys(inputOptions);\n\taddUnknownOptionErrors(\n\t\tunknownOptionErrors,\n\t\tObject.keys(config),\n\t\tvalidInputOptions,\n\t\t'input option',\n\t\t/^output$/\n\t);\n\n\tconst validOutputOptions = Object.keys(outputOptions[0]);\n\taddUnknownOptionErrors(\n\t\tunknownOptionErrors,\n\t\toutputOptions.reduce<string[]>((allKeys, options) => allKeys.concat(Object.keys(options)), []),\n\t\tvalidOutputOptions,\n\t\t'output option'\n\t);\n\n\tconst validCliOutputOptions = validOutputOptions.filter(\n\t\toption => option !== 'sourcemapPathTransform'\n\t);\n\taddUnknownOptionErrors(\n\t\tunknownOptionErrors,\n\t\tObject.keys(command),\n\t\tvalidInputOptions.concat(\n\t\t\tvalidCliOutputOptions,\n\t\t\tObject.keys(commandAliases),\n\t\t\t'config',\n\t\t\t'environment',\n\t\t\t'silent'\n\t\t),\n\t\t'CLI flag',\n\t\t/^_|output|(config.*)$/\n\t);\n\n\treturn {\n\t\tinputOptions,\n\t\toptionError: unknownOptionErrors.length > 0 ? unknownOptionErrors.join('\\n') : null,\n\t\toutputOptions\n\t};\n}\n\nfunction addUnknownOptionErrors(\n\terrors: string[],\n\toptions: string[],\n\tvalidOptions: string[],\n\toptionType: string,\n\tignoredKeys: RegExp = /$./\n) {\n\tconst unknownOptions = options.filter(\n\t\tkey => validOptions.indexOf(key) === -1 && !ignoredKeys.test(key)\n\t);\n\tif (unknownOptions.length > 0)\n\t\terrors.push(\n\t\t\t`Unknown ${optionType}: ${unknownOptions.join(\n\t\t\t\t', '\n\t\t\t)}. Allowed options: ${validOptions.sort().join(', ')}`\n\t\t);\n}\n\nfunction getCommandOptions(rawCommandOptions: GenericConfigObject): CommandConfigObject {\n\tconst external =\n\t\trawCommandOptions.external && typeof rawCommandOptions.external === 'string'\n\t\t\t? rawCommandOptions.external.split(',')\n\t\t\t: [];\n\treturn {\n\t\t...rawCommandOptions,\n\t\texternal,\n\t\tglobals:\n\t\t\ttypeof rawCommandOptions.globals === 'string'\n\t\t\t\t? rawCommandOptions.globals.split(',').reduce((globals, globalDefinition) => {\n\t\t\t\t\t\tconst [id, variableName] = globalDefinition.split(':');\n\t\t\t\t\t\tglobals[id] = variableName;\n\t\t\t\t\t\tif (external.indexOf(id) === -1) {\n\t\t\t\t\t\t\texternal.push(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn globals;\n\t\t\t\t  }, Object.create(null))\n\t\t\t\t: undefined\n\t};\n}\n\nfunction getInputOptions(\n\tconfig: GenericConfigObject,\n\tcommand: CommandConfigObject = { external: [], globals: undefined },\n\tdefaultOnWarnHandler: WarningHandler\n): InputOptions {\n\tconst getOption = createGetOption(config, command);\n\n\tconst inputOptions: InputOptions = {\n\t\tacorn: config.acorn,\n\t\tacornInjectPlugins: config.acornInjectPlugins as any,\n\t\tcache: getOption('cache'),\n\t\tchunkGroupingSize: getOption('chunkGroupingSize', 5000),\n\t\tcontext: getOption('context'),\n\t\texperimentalCacheExpiry: getOption('experimentalCacheExpiry', 10),\n\t\texperimentalOptimizeChunks: getOption('experimentalOptimizeChunks'),\n\t\texperimentalTopLevelAwait: getOption('experimentalTopLevelAwait'),\n\t\texternal: getExternal(config, command) as any,\n\t\tinlineDynamicImports: getOption('inlineDynamicImports', false),\n\t\tinput: getOption('input', []),\n\t\tmanualChunks: getOption('manualChunks'),\n\t\tmoduleContext: config.moduleContext as any,\n\t\tonwarn: getOnWarn(config, defaultOnWarnHandler),\n\t\tperf: getOption('perf', false),\n\t\tplugins: config.plugins as any,\n\t\tpreserveModules: getOption('preserveModules'),\n\t\tpreserveSymlinks: getOption('preserveSymlinks'),\n\t\tshimMissingExports: getOption('shimMissingExports'),\n\t\tstrictDeprecations: getOption('strictDeprecations', false),\n\t\ttreeshake: getObjectOption(config, command, 'treeshake'),\n\t\twatch: config.watch as any\n\t};\n\n\t// support rollup({ cache: prevBuildObject })\n\tif (inputOptions.cache && (inputOptions.cache as any).cache)\n\t\tinputOptions.cache = (inputOptions.cache as any).cache;\n\n\treturn inputOptions;\n}\n\nfunction getOutputOptions(\n\tconfig: GenericConfigObject,\n\tcommand: GenericConfigObject = {}\n): OutputOptions {\n\tconst getOption = createGetOption(config, command);\n\tlet format = getOption('format');\n\n\t// Handle format aliases\n\tswitch (format) {\n\t\tcase 'esm':\n\t\tcase 'module':\n\t\t\tformat = 'es';\n\t\t\tbreak;\n\t\tcase 'commonjs':\n\t\t\tformat = 'cjs';\n\t}\n\n\treturn {\n\t\tamd: { ...config.amd, ...command.amd } as any,\n\t\tassetFileNames: getOption('assetFileNames'),\n\t\tbanner: getOption('banner'),\n\t\tchunkFileNames: getOption('chunkFileNames'),\n\t\tcompact: getOption('compact', false),\n\t\tdir: getOption('dir'),\n\t\tdynamicImportFunction: getOption('dynamicImportFunction'),\n\t\tentryFileNames: getOption('entryFileNames'),\n\t\tesModule: getOption('esModule', true),\n\t\texports: getOption('exports'),\n\t\textend: getOption('extend'),\n\t\texternalLiveBindings: getOption('externalLiveBindings', true),\n\t\tfile: getOption('file'),\n\t\tfooter: getOption('footer'),\n\t\tformat: format === 'esm' ? 'es' : format,\n\t\tfreeze: getOption('freeze', true),\n\t\tglobals: getOption('globals'),\n\t\tindent: getOption('indent', true),\n\t\tinterop: getOption('interop', true),\n\t\tintro: getOption('intro'),\n\t\tname: getOption('name'),\n\t\tnamespaceToStringTag: getOption('namespaceToStringTag', false),\n\t\tnoConflict: getOption('noConflict'),\n\t\toutro: getOption('outro'),\n\t\tpaths: getOption('paths'),\n\t\tpreferConst: getOption('preferConst'),\n\t\tsourcemap: getOption('sourcemap'),\n\t\tsourcemapExcludeSources: getOption('sourcemapExcludeSources'),\n\t\tsourcemapFile: getOption('sourcemapFile'),\n\t\tsourcemapPathTransform: getOption('sourcemapPathTransform'),\n\t\tstrict: getOption('strict', true)\n\t};\n}\n","/*\nrelative require\n*/'use strict';\n\nvar path = require('path');\nvar Module = require('module');\n\nvar modules = {};\n\nvar getModule = function(dir) {\n  var rootPath = dir ? path.resolve(dir) : process.cwd();\n  var rootName = path.join(rootPath, '@root');\n  var root = modules[rootName];\n  if (!root) {\n    root = new Module(rootName);\n    root.filename = rootName;\n    root.paths = Module._nodeModulePaths(rootPath);\n    modules[rootName] = root;\n  }\n  return root;\n};\n\nvar requireRelative = function(requested, relativeTo) {\n  var root = getModule(relativeTo);\n  return root.require(requested);\n};\n\nrequireRelative.resolve = function(requested, relativeTo) {\n  var root = getModule(relativeTo);\n  return Module._resolveFilename(requested, root);\n};\n\nmodule.exports = requireRelative;\n"],"names":["basename","extname","relative","Module"],"mappings":"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"}